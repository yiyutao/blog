### 什么是虚拟机类加载机制
Java虚拟机把描述类的数据（Class文件、网络传输的二进制流）加载到内存，并且对数据进行校验、解析和初始化，最终生成一个可以虚拟机直接使用的Java类型，这个过程就是虚拟机的类加载机制

### 什么时候需要进行类加载
类从被加载到虚拟机内存，到卸载出内存，整个生命周期包括：加载、验证、准备、解析、初始化、使用、卸载七个阶段。
什么开始进行类加载，Java虚拟机规范没有对这个进行强制规定，这个可以由各个虚拟机去具体实现，但是类的初始化，Java虚拟机规范严格规定了有且只有5中场景，需要对类立即进行初始化

- 遇到new，getstatic、putstatic、invokestatic这4条字节码指令时，如果类没有进行初始化，需要立即对类进行初始化。这4条字节码指令一般对应的场景是：使用new关键字实例化一个对象、获取或者设置类的静态属性、调用类的静态方法。其中，如果静态字段被final修饰，获取或修改的的时候，不会触发类的初始化，因为常量在编译器的时候就把结果放在常量池了。
- 使用java.lang.reflect包的方法对类进行反射的时候，如果类没有进行初始化，需要先对类进行初始化。
- 当初始化一个类时，如果其父类没有进行初始化，则会先触发父类的初始化。但是在一个接口初始化，并不会要求其父类已经初始化，只有在真正使用到父类接口的时候，才会初始化
- 虚拟机启动时，必须指定一个主类，虚拟机会初始化这个主类。主类就是包含main()方法的那个类。
- 当使用JDK 1.7的动态语言支持时，如果一个java.lang.invoke.MethodHandle实例最后的解析结果REF_getStatic、REF_putStatic、REF_invokeStatic的方法句柄时，并且这个方法句柄对应的类没有进行过初始化，则需要先触发其初始化。

上面5种场景的行为成为对一个类的主动引用。除去上上面5种的其他引用类的方式都称为被动引用，比如：
- 通过子类引用父类的静态的字段，不会触发子类初始化。
- 通过数组定义引用类，不会触发此类初始化。
- 常量在编译阶段会存入调用类的常量池中，不会触发定义常量类的初始化。

### 类的加载过程

